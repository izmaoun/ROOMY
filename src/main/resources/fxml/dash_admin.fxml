<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.Priority?>
<?import javafx.scene.image.Image?>

<BorderPane fx:controller="com.roomy.Controller.DashAdminController" xmlns:fx="http://javafx.com/fxml"
            style="-fx-background-color: #000000;"
            prefWidth="1400" prefHeight="900"
            minWidth="1000" minHeight="600">

    <!-- Top bar - CORRECTION ICI : Utiliser un AnchorPane pour s'assurer que tout reste visible -->
    <top>
        <AnchorPane style="-fx-background-color: #5a1d22;">
            <HBox AnchorPane.topAnchor="0" AnchorPane.leftAnchor="0" AnchorPane.rightAnchor="0" AnchorPane.bottomAnchor="0"
                  spacing="15" style="-fx-padding: 15 20;">
                <!-- Logo Ã  gauche -->
                <HBox style="-fx-alignment: center-left; -fx-spacing: 10;" HBox.hgrow="ALWAYS">
                    <ImageView fx:id="logo" fitHeight="40" fitWidth="140" pickOnBounds="true" preserveRatio="true">
                        <image>
                            <Image url="@../images/logo.png" />
                        </image>
                    </ImageView>
                </HBox>

                <!-- Admin info et boutons Ã  droite - CORRECTION ICI : S'assurer qu'ils ne dÃ©bordent pas -->
                <HBox style="-fx-alignment: center-right; -fx-spacing: 15;">
                    <VBox style="-fx-alignment: center-right; -fx-spacing: 2;">
                        <Label text="Admin" style="-fx-text-fill: white; -fx-font-weight: bold; -fx-font-size: 14px;" />
                        <Label fx:id="lblAdminName" text="yume or someone" style="-fx-text-fill: #d4a5a5; -fx-font-size: 11px;" />
                    </VBox>
                    <Button fx:id="btnLogout" text="ðŸ”“ DÃ©connexion" style="-fx-background-color: #f2d6c6; -fx-text-fill: #5a1d22; -fx-font-weight: bold; -fx-padding: 8 15; -fx-background-radius: 5; -fx-cursor: hand;"/>
                    <Button fx:id="btnMenu" text="â˜°" style="-fx-background-radius: 50%; -fx-background-color: #8a272c; -fx-text-fill: white; -fx-font-size: 20px; -fx-pref-width: 45; -fx-pref-height: 45; -fx-cursor: hand; -fx-min-width: 45; -fx-min-height: 45;" />
                </HBox>
            </HBox>
        </AnchorPane>
    </top>

    <!-- Center content with sidebar overlay -->
    <center>
        <HBox spacing="0" style="-fx-background-color: #000000;">
            <!-- Menu latÃ©ral toujours visible Ã  gauche -->
            <VBox fx:id="leftMenu" spacing="12"
                  style="-fx-background-color: #2f3939; -fx-padding: 20 0 20 20; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.5), 15,0,5,0);"
                  prefWidth="220"
                  minWidth="180"
                  maxWidth="260"
                  HBox.hgrow="NEVER">
                <Button fx:id="btnValidation" text="validation des Ã©tablissements"
                        style="-fx-background-color: #5a1d22; -fx-text-fill: white; -fx-padding: 10; -fx-background-radius: 5; -fx-cursor: hand;"
                        maxWidth="Infinity" />
                <Button fx:id="btnUsers" text="gestion utilisateurs"
                        style="-fx-background-color: #5a1d22; -fx-text-fill: white; -fx-padding: 10; -fx-background-radius: 5; -fx-cursor: hand;"
                        maxWidth="Infinity" />
                <Button fx:id="btnStats" text="Statistiques"
                        style="-fx-background-color: #5a1d22; -fx-text-fill: white; -fx-padding: 10; -fx-background-radius: 5; -fx-cursor: hand;"
                        maxWidth="Infinity" />
            </VBox>
            <!-- Contenu principal Ã  droite, dÃ©calÃ© -->
            <AnchorPane style="-fx-background-color: #000000; -fx-padding: 0 0 0 20;" HBox.hgrow="ALWAYS">
                <ScrollPane fx:id="mainScrollPane" style="-fx-background: #000000; -fx-background-color: #000000;"
                            AnchorPane.topAnchor="0" AnchorPane.leftAnchor="0" AnchorPane.rightAnchor="0" AnchorPane.bottomAnchor="0"
                            fitToWidth="true" fitToHeight="true" hbarPolicy="AS_NEEDED" vbarPolicy="AS_NEEDED">
                    <StackPane fx:id="centerStack" style="-fx-background-color: #000000;" minHeight="600">
                        <!-- Validation pane -->
                        <AnchorPane fx:id="validationPane" style="-fx-background-color: #000000;"
                                    AnchorPane.topAnchor="0" AnchorPane.leftAnchor="0" AnchorPane.rightAnchor="0" AnchorPane.bottomAnchor="0">

                            <VBox spacing="10" style="-fx-background-color: #000000; -fx-padding: 20;">

                                <!-- Titre -->
                                <HBox style="-fx-background-color: #f2d6c6; -fx-padding: 15 20; -fx-background-radius: 10;"
                                      prefHeight="70">
                                    <Label text="Validation des demandes de collaboration des hÃ´tels"
                                           style="-fx-font-size: 20px; -fx-font-weight: bold; -fx-text-fill: #1a1a1a;" wrapText="true" />
                                </HBox>

                                <!-- Scrollable Table -->
                                <ScrollPane fitToWidth="true" hbarPolicy="AS_NEEDED" vbarPolicy="AS_NEEDED"
                                            style="-fx-background: #000000; -fx-background-color: #000000;">
                                    <VBox fx:id="validationList" spacing="0" style="-fx-background-color: #1a1a1a; -fx-padding: 10; -fx-background-radius: 10;">
                                        <!-- En-tÃªte de tableau -->
                                        <HBox style="-fx-background-color: #2a2a2a; -fx-padding: 10; -fx-spacing: 10; -fx-background-radius: 10 10 0 0;"
                                              prefHeight="50">
                                            <Label text="Nom de l'HÃ´tel" style="-fx-text-fill: #d4d4d4; -fx-font-weight: bold; -fx-pref-width: 140;" />
                                            <Label text="Email du GÃ©rand" style="-fx-text-fill: #d4d4d4; -fx-font-weight: bold; -fx-pref-width: 140;" />
                                            <Label text="ICE" style="-fx-text-fill: #d4d4d4; -fx-font-weight: bold; -fx-pref-width: 110;" />
                                            <Label text="Ville" style="-fx-text-fill: #d4d4d4; -fx-font-weight: bold; -fx-pref-width: 90;" />
                                            <Label text="Confirmation" style="-fx-text-fill: #d4d4d4; -fx-font-weight: bold; -fx-pref-width: 100;" />
                                            <Label text="Status" style="-fx-text-fill: #d4d4d4; -fx-font-weight: bold; -fx-pref-width: 180;" />
                                        </HBox>
                                        <!-- Lignes dynamiques ajoutÃ©es par le contrÃ´leur -->
                                    </VBox>
                                </ScrollPane>
                            </VBox>
                        </AnchorPane>

                        <!-- Users pane -->
                        <AnchorPane fx:id="usersPane" visible="false" style="-fx-background-color: #000000;">
                            <VBox AnchorPane.topAnchor="0" AnchorPane.leftAnchor="0" AnchorPane.rightAnchor="0" AnchorPane.bottomAnchor="0" spacing="0">
                                <HBox style="-fx-background-color: #f2d6c6; -fx-padding: 15 20; -fx-background-radius: 10; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.3), 10,0,0,3);"
                                      prefHeight="70">
                                    <Label text="Gestion des utilisateurs" style="-fx-font-size: 20px; -fx-font-weight: bold; -fx-text-fill: #1a1a1a;" />
                                </HBox>
                                <ScrollPane VBox.vgrow="ALWAYS" fitToWidth="false" hbarPolicy="AS_NEEDED" vbarPolicy="AS_NEEDED"
                                            style="-fx-background: #000000; -fx-background-color: #000000;">
                                    <VBox fx:id="usersList" spacing="12" style="-fx-padding: 12; -fx-background-color: #000000;">
                                        <Label text="Liste utilisateurs" style="-fx-text-fill: white;" />
                                    </VBox>
                                </ScrollPane>
                            </VBox>
                        </AnchorPane>

                        <!-- Stats pane -->
                        <AnchorPane fx:id="statsPane" visible="false" style="-fx-background-color: #000000;">
                            <VBox AnchorPane.topAnchor="0" AnchorPane.leftAnchor="0" AnchorPane.rightAnchor="0" AnchorPane.bottomAnchor="0" spacing="0">
                                <HBox style="-fx-background-color: #f2d6c6; -fx-padding: 15 20; -fx-background-radius: 10; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.3), 10,0,0,3);"
                                      prefHeight="70">
                                    <Label text="Statistiques" style="-fx-font-size: 20px; -fx-font-weight: bold; -fx-text-fill: #1a1a1a;" />
                                </HBox>
                                <ScrollPane VBox.vgrow="ALWAYS"
                                            style="-fx-background: #000000; -fx-background-color: #000000;" fitToWidth="true">
                                    <VBox fx:id="statsList" spacing="12" style="-fx-padding: 12; -fx-background-color: #000000;">
                                        <Label text="Graphiques (placeholder)" style="-fx-text-fill: white;" />
                                    </VBox>
                                </ScrollPane>
                            </VBox>
                        </AnchorPane>
                    </StackPane>
                </ScrollPane>
            </AnchorPane>
        </HBox>
    </center>
</BorderPane>
